
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤‘êµ­ì–´ ë‹¨ì–´ ë§¤ì¹­ ê²Œì„ - êµ­ê°€ì˜ ì‚¬ëŒë“¤</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 {
            color: #e74c3c;
            margin-bottom: 10px;
        }
        .game-info {
            display: flex;
            justify-content: space-between;
            width: 600px;
            margin-bottom: 20px;
            font-size: 18px;
        }
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            width: 600px;
        }
        .card {
            height: 120px;
            background-color: #3498db;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 20px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        .card.flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            padding: 10px;
            box-sizing: border-box;
        }
        .card-front {
            background-color: #e74c3c;
            transform: rotateY(0deg);
        }
        .card-back {
            background-color: #2ecc71;
            transform: rotateY(180deg);
        }
        .card.matched {
            visibility: hidden;
        }
        .restart-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        .restart-btn:hover {
            background-color: #c0392b;
        }
        .panda-icon {
            font-size: 50px;
        }
    </style>
</head>
<body>
    <h1>ì¤‘êµ­ì–´ ë‹¨ì–´ ë§¤ì¹­ ê²Œì„</h1>
    <p>ê°™ì€ ë‹¨ì–´ì˜ ë³‘ìŒê³¼ í•œêµ­ì–´ ë²ˆí˜¸ë¥¼ ì°¾ì•„ ë§ì¶”ì„¸ìš”!</p>
    
    <div class="game-info">
        <div>ì‹œê°„: <span id="time">0</span>ì´ˆ</div>
        <div>ì ìˆ˜: <span id="score">0</span></div>
    </div>
    
    <div class="game-board" id="gameBoard"></div>
    
    <button class="restart-btn" onclick="startGame()">ê²Œì„ ë‹¤ì‹œ ì‹œì‘</button>

    <script>
        // ê²Œì„ ë°ì´í„°
        const words = [
            { chinese: "ä¸­å›½äºº", pinyin: "ZhÅngguÃ³rÃ©n", korean: "ì¤‘êµ­ì¸" },
            { chinese: "éŸ©å›½äºº", pinyin: "HÃ¡nguÃ³rÃ©n", korean: "í•œêµ­ì¸" },
            { chinese: "æ—¥æœ¬äºº", pinyin: "RÃ¬bÄ›nrÃ©n", korean: "ì¼ë³¸ì¸" },
            { chinese: "ç¾å›½äºº", pinyin: "MÄ›iguÃ³rÃ©n", korean: "ë¯¸êµ­ì¸" },
            { chinese: "è‹±å›½äºº", pinyin: "YÄ«ngguÃ³rÃ©n", korean: "ì˜êµ­ì¸" },
            { chinese: "æ³•å›½äºº", pinyin: "FÇguÃ³rÃ©n", korean: "í”„ë‘ìŠ¤ì¸" }
        ];

        // íŒ¬ë” ìºë¦­í„° ì´ëª¨ì§€ (ë‹¤ì–‘í•œ íŒ¬ë” í‘œì •)
        const pandaEmojis = ["ğŸ¼", "ğŸ»", "ğŸ§¸", "ğŸ¾", "ğŸ‹", "ğŸ"];

        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let score = 0;
        let time = 0;
        let timer;
        let gameStarted = false;

        // ê²Œì„ ì´ˆê¸°í™”
        function initGame() {
            // ì¹´ë“œ ìŒ ìƒì„± (ë³‘ìŒê³¼ í•œêµ­ì–´ ê°ê° í•œ ì¥)
            let cardPairs = [];
            words.forEach((word, index) => {
                cardPairs.push({ 
                    type: 'pinyin', 
                    content: word.pinyin, 
                    word: word.chinese, 
                    emoji: pandaEmojis[index] 
                });
                cardPairs.push({ 
                    type: 'korean', 
                    content: word.korean, 
                    word: word.chinese, 
                    emoji: pandaEmojis[index] 
                });
            });

            // ì¹´ë“œ ì„ê¸°
            cards = shuffleArray(cardPairs);
            
            // ê²Œì„ ë³´ë“œ ë Œë”ë§
            renderGameBoard();
        }

        // ê²Œì„ ë³´ë“œ ë Œë”ë§
        function renderGameBoard() {
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';
            
            cards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.dataset.index = index;
                
                // ì¹´ë“œê°€ ë§¤ì¹˜ëœ ê²½ìš° matched í´ë˜ìŠ¤ ì¶”ê°€
                if (card.matched) {
                    cardElement.classList.add('matched');
                }
                
                // ì¹´ë“œê°€ ë’¤ì§‘íŒ ê²½ìš° flipped í´ë˜ìŠ¤ ì¶”ê°€
                if (card.flipped) {
                    cardElement.classList.add('flipped');
                }
                
                // ì¹´ë“œ ì•ë©´ (íŒ¬ë” ìºë¦­í„°)
                const frontFace = document.createElement('div');
                frontFace.className = 'card-face card-front';
                frontFace.innerHTML = `<div class="panda-icon">${card.emoji}</div>`;
                
                // ì¹´ë“œ ë’·ë©´ (ë³‘ìŒ ë˜ëŠ” í•œêµ­ì–´)
                const backFace = document.createElement('div');
                backFace.className = 'card-face card-back';
                backFace.textContent = card.content;
                
                cardElement.appendChild(frontFace);
                cardElement.appendChild(backFace);
                
                cardElement.addEventListener('click', () => flipCard(index));
                gameBoard.appendChild(cardElement);
            });
        }

        // ì¹´ë“œ ë’¤ì§‘ê¸°
        function flipCard(index) {
            // ê²Œì„ì´ ì‹œì‘ë˜ì§€ ì•Šì€ ê²½ìš° ê²Œì„ ì‹œì‘
            if (!gameStarted) {
                startTimer();
                gameStarted = true;
            }
            
            const card = cards[index];
            
            // ì¹´ë“œê°€ ì´ë¯¸ ë§¤ì¹˜ë˜ì—ˆê±°ë‚˜ ë’¤ì§‘í˜€ ìˆê±°ë‚˜ ì´ë¯¸ 2ì¥ì´ ë’¤ì§‘í˜€ ìˆëŠ” ê²½ìš° ë¬´ì‹œ
            if (card.matched || card.flipped || flippedCards.length >= 2) {
                return;
            }
            
            // ì¹´ë“œ ë’¤ì§‘ê¸°
            card.flipped = true;
            flippedCards.push(index);
            
            // ê²Œì„ ë³´ë“œ ë‹¤ì‹œ ë Œë”ë§
            renderGameBoard();
            
            // 2ì¥ì˜ ì¹´ë“œê°€ ë’¤ì§‘í˜”ëŠ”ì§€ í™•ì¸
            if (flippedCards.length === 2) {
                const card1 = cards[flippedCards[0]];
                const card2 = cards[flippedCards[1]];
                
                // ê°™ì€ ë‹¨ì–´ì˜ ë³‘ìŒê³¼ í•œêµ­ì–´ ë²ˆì—­ì¸ì§€ í™•ì¸
                if (card1.word === card2.word && card1.type !== card2.type) {
                    // ë§¤ì¹˜ ì„±ê³µ
                    card1.matched = true;
                    card2.matched = true;
                    matchedPairs++;
                    score += 10;
                    document.getElementById('score').textContent = score;
                    
                    // ë’¤ì§‘íŒ ì¹´ë“œ ë°°ì—´ ë¹„ìš°ê¸°
                    flippedCards = [];
                    
                    // ê²Œì„ ì¢…ë£Œ í™•ì¸
                    if (matchedPairs === words.length) {
                        endGame();
                    }
                } else {
                    // ë§¤ì¹˜ ì‹¤íŒ¨, 1ì´ˆ í›„ ë‹¤ì‹œ ë’¤ì§‘ê¸°
                    setTimeout(() => {
                        card1.flipped = false;
                        card2.flipped = false;
                        flippedCards = [];
                        renderGameBoard();
                    }, 1000);
                }
            }
        }

        // íƒ€ì´ë¨¸ ì‹œì‘
        function startTimer() {
            time = 0;
            document.getElementById('time').textContent = time;
            timer = setInterval(() => {
                time++;
                document.getElementById('time').textContent = time;
            }, 1000);
        }

        // ê²Œì„ ì¢…ë£Œ
        function endGame() {
            clearInterval(timer);
            alert(`ê²Œì„ ì¢…ë£Œ!\nì ìˆ˜: ${score}\nì†Œìš” ì‹œê°„: ${time}ì´ˆ`);
        }

        // ê²Œì„ ì‹œì‘
        function startGame() {
            clearInterval(timer);
            cards = [];
            flippedCards = [];
            matchedPairs = 0;
            score = 0;
            time = 0;
            gameStarted = false;
            document.getElementById('score').textContent = score;
            document.getElementById('time').textContent = time;
            initGame();
        }

        // ë°°ì—´ ì„ê¸° í•¨ìˆ˜
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // ê²Œì„ ì´ˆê¸°í™”
        startGame();
    </script>
</body>
</html>